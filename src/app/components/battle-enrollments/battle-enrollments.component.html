<mat-expansion-panel #expansionPanel expanded hideToggle>
  <mat-expansion-panel-header collapsedHeight="auto" expandedHeight="auto">
    <div class="wrapper">
      <!-- keep this div for correct wrapping -->
      <img
        alt="Fraktions Avatar"
        class="factionImage mat-elevation-z1"
        src="/assets/{{ factionId }}_flag_autoscaled.jpg"
      />
      <p class="header-title mat-display-1">
        <span>{{ factionId }}</span
        >&nbsp; <span matTooltip="yes">{{ counts.yes }}</span
      >&nbsp;
        <span matTooltip="maybe">(+{{ counts.maybe }})</span>
        <span class="spacer"></span>
        <button disableRipple mat-icon-button>
          <mat-icon [@indicatorRotate]="expansionPanel._getExpandedState()"
          >expand_more
          </mat-icon>
        </button>
      </p>
    </div>
  </mat-expansion-panel-header>
  <ng-container [ngSwitch]="status | async">
    <ng-container *ngSwitchCase="'loading'">
      <img alt="lÃ¤dt..." src="assets/loader.svg">
    </ng-container>
    <ng-container *ngSwitchCase="'empty'">
      Sei der Erste im Schlachtfeld!
    </ng-container>
    <ng-container *ngSwitchCase="'ready'">
      <div class="playerCards">
        <div *ngFor="let enrollment of battleEnrollments" class="playerCard">
          <img
            [src]="enrollment.photoUrl"
            alt="Spieler Avatar"
            class="avatar mat-elevation-z3"
          />
          <p
            [matBadge]="enrollment.factionId"
            class="title faction-{{ enrollment.factionId }}"
            matBadgeSize="small"
          >
        <span class="mat-subheading-1">
          {{ enrollment.displayName }}
        </span>
          </p>
          <p class="subtitle">
            <span class="mat-body-strong">{{ enrollment.status }} </span>
            <span class="mat-small">{{ enrollment.comment }}</span>
          </p>
        </div>
      </div>
    </ng-container>
  </ng-container>
</mat-expansion-panel>
