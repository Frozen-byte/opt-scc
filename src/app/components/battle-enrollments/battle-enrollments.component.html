<mat-card>
  <img
    alt="Fraktions Avatar"
    mat-card-image
    src="/assets/{{ factionId }}_flag_autoscaled.jpg"
  />
  <mat-card-header class="factionHeader">
    <mat-card-title>
      {{ factionId }}
      {{ counts.yes }} (+{{ counts.maybe }})
    </mat-card-title>
    <button mat-icon-button>
      <mat-icon
        [@indicatorRotate]="getExpandedState()"
        class="expansion-indicator"
        >{{ expanded ? "expand_more" : "expand_less" }}</mat-icon
      >
    </button>
  </mat-card-header>

  <mat-card-content
    [@bodyExpansion]="getExpandedState()"
    [class.expanded]="expandedChange | async"
  >
    <mat-card-header
      *ngFor="let enrollment of battleEnrollments"
      class="playerCard"
    >
      <img [src]="enrollment.photoUrl" alt="Spieler Avatar" mat-card-avatar />
      <mat-card-title
        [matBadge]="enrollment.factionId"
        class="faction-{{ enrollment.factionId }}"
        matBadgeSize="small"
      >
        {{ enrollment.displayName }}
      </mat-card-title>
      <mat-card-subtitle
        >{{ enrollment.status }}: {{ enrollment.comment }}</mat-card-subtitle
      >
    </mat-card-header>
  </mat-card-content>
</mat-card>
